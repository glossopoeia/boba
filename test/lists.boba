
func nil = [ ]

func cons x y = [ ...x with y ]

func break-list =
    match {
        | [ b... a ] => [ ...b ] a
    }

func one-elem = [ 2 ] 2

func with-data = [ True, False, True ]

func ext r = [ ...r with False, True, False ]

func fst =
    match {
        | [ b... a ] => a
    }

func snd =
    match {
        | [ c... b a ] => b
    }

func fstFst =
    match {
        | [ b... [ c... a ] ] => a
    }

func tail =
    match {
        | [ b... a ] => [ ... b ]
    }

func print-list =
    "(" print-string
    for e <= list then {
        e print-string
        ", " print-string
    }
    ")" print-string

func map-list f =
    for e <= list map list, list then {
        let x = e f do;
        x x
    }

func all-list =
    for e <= list fold res <= True then {
        res e and-bool
    }

func extracting =
    [ 0 ] fst
    [ 2, 0, 1 ] snd
    add-i32

//main = [ "hello", "printed", "lists!" ] print-list extracting
//main = [ true, false, true ] all-list conv-bool-i32
main = {
    [ "hello", "printed", "lists" ] (| "!" concat-string |) map-list print-list;
    let x;
    0
}